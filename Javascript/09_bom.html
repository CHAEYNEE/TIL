<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BOM</title>
    <script>
      let lat;
      let lng;
      console.log(1);
      // 현재 화면 로드가 완료되면(작성된 HTML들이 모두 만들어지고나면)
      // 로드 완료 후 자바스크립트 변수들을 초기화하는 목적
      window.onload = function () {
        console.log(2); // 2가 제일 마지막에 찍힘
        const btn6 = document.querySelector("#btn6");
        btn6.onclick = function () {
          console.log("onload버튼클릭");
        };
        const timeStart = document.querySelector("#timeStart");
        let timeId;
        timeStart.onclick = function () {
          timeId = window.setInterval(function () {
            const date = new Date();
            const currentTime =
              date.getHours() +
              " : " +
              date.getMinutes() +
              " : " +
              date.getSeconds() +
              "." +
              date.getMilliseconds();
            const timeZone = document.querySelector("#time-zone");
            timeZone.innerText = currentTime;
          }, 1);
        };
        const timeEnd = document.querySelector("#timeEnd");
        timeEnd.onclick = function () {
          window.clearInterval(timeId);
        };

        // 현재 화면 로드가 완료되면 현위치의 위/경도를 구해서 변수 저장
        // getCurrentPosition -> 내 현재위치를 조회 -> 매개변수로 준 함수에 해당 조회 정보를 전달
        navigator.geolocation.getCurrentPosition(showMyLocation);
      };
      // 선언적함수는 onload 외부에 만든다
      // 첫번째 매개변수(position)에 getCurrentPosition()이 조회한 위치정보를 전달하면서 실행
      function showMyLocation(position) {
        console.log(position);
        lat = position.coords.latitude;
        lng = position.coords.longitude;
      }
    </script>
    <style>
      #time-zone {
        padding: 50px;
        font-size: 50px;
        font-weight: 900;
        border: 10px solid red;
      }
    </style>
  </head>
  <body>
    <h1>BOM</h1>
    <hr />
    <h3>window.open : 높이와 너비를 입력해서 새 창을 띄움</h3>
    <h3>window.setTimeout : 일정 시간 후 함수를 한 번 실행 / id리턴</h3>
    <h3>window.clearTimeout : setTimeout을 종료(발급된 id를 통해서)</h3>
    <h3>window.setInterval : 일정 시간마다 함수를 반복해서 실행 / id리턴</h3>
    <h3>window.clearInterval : setInterval을 종료(발급된 id를 통해서)</h3>
    <h3>
      window.onload : 화면에 요소들이 로드 완료되면 자동으로 한 번 실행되는 함수
    </h3>
    <button id="btn1">open</button>
    <button id="btn2">setTimeout</button>
    <button id="btn3">clearTimeout</button>
    <button id="btn4">setInterval</button>
    <button id="btn5">clearInterval</button>
    <button id="btn6">onload</button>
    <button id="timeStart">시계 시작</button>
    <button id="timeEnd">시계 정지</button>
    <div id="time-zone"></div>
    <hr />
    <h3>screen : client 운영체제 화면 속의 속성값을 갖는 객체</h3>
    <h3>location : 브라우저 주소표시줄(URL)과 관련된 객체</h3>
    <h3>navigator : 브라우저에 대한 정보</h3>
    <button id="btn7">screen</button>
    <button id="btn8">location.href</button>
    <button id="btn9">location.reload</button>
    <button id="btn10">현재 위/경도 조회</button>
    <script src="js/09_bom.js"></script>
    <script>
      console.log(4);
    </script>
  </body>
</html>
